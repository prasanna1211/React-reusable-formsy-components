{"version":3,"sources":["../lib/InputSelectBox.js"],"names":["InputSelectBox","props","state","value","onChangeSelect","bind","setValue","nextProps","isValuePristine","setState","nextState","prevProps","prevState","onChangeInput","name","event","target","console","log","errorMessageStyle","inline","display","wrapperClass","wrapperStyle","labelClass","label","selectClass","ref","required","disableDefaultTextOnSelect","defaultText","map","options","optionData","optionClass","errorClass","getErrorMessage","Component","propTypes","PropTypes","array","isRequired","string","object","func","getValue","any","bool","defaultProps","undefined"],"mappings":";;;;;;;;;;AAIA;;;;AACA;;AACA;;;;;;;;;;+eANA;;;;;;IAQMA,c;;;AAEJ,0BAAYC,KAAZ,EAAmB;AAAA;;AAAA,gIACXA,KADW;;AAGjB,UAAKC,KAAL,GAAa;AACXC,aAAOF,MAAME;AADF,KAAb;;AAIA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,OAAtB;AAPiB;AAQlB;;AAED;;;;;wCACoB;AAClB,WAAKJ,KAAL,CAAWK,QAAX,CAAoB,KAAKL,KAAL,CAAWE,KAA/B;AACD;;AAED;;;;8CAC0BI,S,EAAW;AACnC,UAAIA,UAAUJ,KAAV,KAAoB,KAAKF,KAAL,CAAWE,KAA/B,IAAwCI,UAAUC,eAAtD,EAAuE;AAAE;AACvE,aAAKC,QAAL,CAAc;AACZN,iBAAOI,UAAUJ;AADL,SAAd;AAGD;AACF;;;0CAEqBI,S,EAAWG,S,EAAW;AAC1C,aAAQ,KAAKR,KAAL,CAAWC,KAAX,KAAqBO,UAAUP,KAAvC;AACD;;AAED;;;;uCACmBQ,S,EAAWC,S,EAAW;AAAE;AACzC,UAAI,KAAKV,KAAL,CAAWC,KAAX,KAAqBS,UAAUT,KAAnC,EAA0C;AACxC,aAAKF,KAAL,CAAWK,QAAX,CAAoB,KAAKJ,KAAL,CAAWC,KAA/B;AACA,aAAKF,KAAL,CAAWY,aAAX,CAAyB,KAAKZ,KAAL,CAAWa,IAApC,EAA0C,KAAKZ,KAAL,CAAWC,KAArD;AACD;AACF;;AAED;;;;mCACeY,K,EAAO;AACpB,WAAKN,QAAL,CAAc;AACZN,eAAOY,MAAMC,MAAN,CAAab;AADR,OAAd;AAGD;;;6BAEQ;AAAA;;AACPc,cAAQC,GAAR,CAAY,sBAAZ,EAAoC,KAAKhB,KAAL,CAAWC,KAA/C;AACA;AACA,UAAMgB,oBAAoB,KAAKlB,KAAL,CAAWmB,MAAX,GAAoB,EAAEC,SAAS,cAAX,EAApB,GAAkD,IAA5E;AACA,aACE;AAAA;AAAA;AACE,qBAAW,KAAKpB,KAAL,CAAWqB,YADxB;AAEE,iBAAO,KAAKrB,KAAL,CAAWsB;AAFpB;AAIE;AAAA;AAAA;AACE,qBAAS,KAAKtB,KAAL,CAAWa,IADtB;AAEE,uBAAW,KAAKb,KAAL,CAAWuB;AAFxB;AAIG,eAAKvB,KAAL,CAAWwB;AAJd,SAJF;AAUE;AAAA;AAAA,uBACM,uCAAc,KAAKxB,KAAnB,CADN;AAEE,uBAAW,KAAKA,KAAL,CAAWyB,WAFxB;AAGE,iBAAK,KAAKzB,KAAL,CAAW0B,GAHlB;AAIE,kBAAM,KAAK1B,KAAL,CAAWa,IAJnB;AAKE,mBAAO,KAAKZ,KAAL,CAAWC,KALpB;AAME,sBAAU,KAAKC,cANjB;AAOE,sBAAU,KAAKH,KAAL,CAAW2B;AAPvB;AASE;AAAA;AAAA;AACE,mBAAI,cADN;AAEE,qBAAM,MAFR;AAGE,wBAAU,KAAK3B,KAAL,CAAW4B;AAHvB;AAKG,iBAAK5B,KAAL,CAAW6B;AALd,WATF;AAiBI,+BAAEC,GAAF,CAAM,KAAK9B,KAAL,CAAW+B,OAAjB,EAA0B;AAAA,mBACxB;AAAA;AAAA;AACE,qBAAKC,WAAW9B,KADlB;AAEE,uBAAO8B,WAAW9B,KAFpB;AAGE,2BAAW,OAAKF,KAAL,CAAWiC;AAHxB;AAKGD,yBAAWnB;AALd,aADwB;AAAA,WAA1B;AAjBJ,SAVF;AAsCE;AAAA;AAAA,YAAK,WAAW,KAAKb,KAAL,CAAWkC,UAA3B,EAAuC,OAAOhB,iBAA9C;AACI,eAAKlB,KAAL,CAAWmC,eAAX;AADJ;AAtCF,OADF;AA4CD;;;;EA7F0B,gBAAMC,S;;AAgGnCrC,eAAesC,SAAf,GAA2B;AACzBN,WAAS,gBAAMO,SAAN,CAAgBC,KAAhB,CAAsBC,UADN;AAEzBnB,gBAAc,gBAAMiB,SAAN,CAAgBG,MAFL;AAGzBP,cAAY,gBAAMI,SAAN,CAAgBG,MAHH;AAIzBnB,gBAAc,gBAAMgB,SAAN,CAAgBI,MAJL;AAKzBP,mBAAiB,gBAAMG,SAAN,CAAgBK,IAAhB,CAAqBH,UALb;AAMzBI,YAAU,gBAAMN,SAAN,CAAgBK,IAAhB,CAAqBH,UANN;AAOzBtC,SAAO,gBAAMoC,SAAN,CAAgBO,GAPE;AAQzBxC,YAAU,gBAAMiC,SAAN,CAAgBK,IAAhB,CAAqBH,UARN;AASzB5B,iBAAe,gBAAM0B,SAAN,CAAgBK,IATN;AAUzBxB,UAAQ,gBAAMmB,SAAN,CAAgBQ,IAVC;AAWzBpB,OAAK,gBAAMY,SAAN,CAAgBG,MAXI;AAYzB5B,QAAM,gBAAMyB,SAAN,CAAgBG,MAAhB,CAAuBD,UAZJ;AAazBb,YAAU,gBAAMW,SAAN,CAAgBQ,IAbD;AAczBlB,8BAA4B,gBAAMU,SAAN,CAAgBQ,IAdnB;AAezBjB,eAAa,gBAAMS,SAAN,CAAgBG,MAfJ;AAgBzBhB,eAAa,gBAAMa,SAAN,CAAgBG,MAhBJ;AAiBzBR,eAAa,gBAAMK,SAAN,CAAgBG,MAjBJ;AAkBzBjB,SAAO,gBAAMc,SAAN,CAAgBG,MAlBE;AAmBzBlB,cAAY,gBAAMe,SAAN,CAAgBG;AAnBH,CAA3B;;AAsBA1C,eAAegD,YAAf,GAA8B;AAC5B1B,gBAAc2B,SADc;AAE5B1B,gBAAc0B,SAFc;AAG5Bd,cAAYc,SAHgB;AAI5B9C,SAAO,cAJqB;AAK5BU,iBAAe,yBAAM,CAAE,CALK;AAM5BO,UAAQ6B,SANoB;AAO5BtB,OAAKsB,SAPuB;AAQ5BpB,8BAA4B,IARA;AAS5BD,YAAUqB,SATkB;AAU5BnB,eAAa,kBAVe;AAW5BJ,eAAauB,SAXe;AAY5Bf,eAAae,SAZe;AAa5BzB,cAAYyB,SAbgB;AAc5BxB,SAAOwB;AAdqB,CAA9B;;kBAiBejD,c","file":"InputSelectBox.js","sourcesContent":["/**\n * Input Select Box ( <select></select>\")\n * Both formsy value and display value will change by changing the state value\n */\nimport React from 'react';\nimport { pickHTMLProps } from 'pick-react-known-prop';\nimport _ from 'underscore';\n\nclass InputSelectBox extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: props.value,\n    };\n\n    this.onChangeSelect = this.onChangeSelect.bind(this);\n  }\n\n  // Setting the default value\n  componentDidMount() {\n    this.props.setValue(this.props.value);\n  }\n\n  // When new value is recieved forecefully update the state\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.props.value || nextProps.isValuePristine) { // eslint-disable-line\n      this.setState({\n        value: nextProps.value,\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (this.state.value !== nextState.value);\n  }\n\n  // only when there is state change, change formsy and display value to be changed\n  componentDidUpdate(prevProps, prevState) { // eslint-disable-line\n    if (this.state.value !== prevState.value) {\n      this.props.setValue(this.state.value);\n      this.props.onChangeInput(this.props.name, this.state.value);\n    }\n  }\n\n  // On changing sleect, change the state\n  onChangeSelect(event) {\n    this.setState({\n      value: event.target.value,\n    });\n  }\n\n  render() {\n    console.log(' rendered selectbox ', this.state.value);\n    // inline or block based on the props\n    const errorMessageStyle = this.props.inline ? { display: 'inline-block' } : null;\n    return (\n      <div\n        className={this.props.wrapperClass}\n        style={this.props.wrapperStyle}\n      >\n        <label\n          htmlFor={this.props.name}\n          className={this.props.labelClass}\n        >\n          {this.props.label}\n        </label>\n        <select\n          {...pickHTMLProps(this.props)}\n          className={this.props.selectClass}\n          ref={this.props.ref}\n          name={this.props.name}\n          value={this.state.value}\n          onChange={this.onChangeSelect}\n          required={this.props.required}\n        >\n          <option\n            key=\"selectOption\"\n            value=\"none\"\n            disabled={this.props.disableDefaultTextOnSelect}\n          >\n            {this.props.defaultText}\n          </option>\n          {\n            _.map(this.props.options, optionData => (\n              <option\n                key={optionData.value}\n                value={optionData.value}\n                className={this.props.optionClass}\n              >\n                {optionData.name}\n              </option>\n            ))\n          }\n        </select>\n        <div className={this.props.errorClass} style={errorMessageStyle}>\n          { this.props.getErrorMessage() }\n        </div>\n      </div>\n    );\n  }\n}\n\nInputSelectBox.propTypes = {\n  options: React.PropTypes.array.isRequired,\n  wrapperClass: React.PropTypes.string,\n  errorClass: React.PropTypes.string,\n  wrapperStyle: React.PropTypes.object,\n  getErrorMessage: React.PropTypes.func.isRequired,\n  getValue: React.PropTypes.func.isRequired,\n  value: React.PropTypes.any,\n  setValue: React.PropTypes.func.isRequired,\n  onChangeInput: React.PropTypes.func,\n  inline: React.PropTypes.bool,\n  ref: React.PropTypes.string,\n  name: React.PropTypes.string.isRequired,\n  required: React.PropTypes.bool,\n  disableDefaultTextOnSelect: React.PropTypes.bool,\n  defaultText: React.PropTypes.string,\n  selectClass: React.PropTypes.string,\n  optionClass: React.PropTypes.string,\n  label: React.PropTypes.string,\n  labelClass: React.PropTypes.string,\n};\n\nInputSelectBox.defaultProps = {\n  wrapperClass: undefined,\n  wrapperStyle: undefined,\n  errorClass: undefined,\n  value: 'selectOption',\n  onChangeInput: () => {},\n  inline: undefined,\n  ref: undefined,\n  disableDefaultTextOnSelect: true,\n  required: undefined,\n  defaultText: 'Select An Option',\n  selectClass: undefined,\n  optionClass: undefined,\n  labelClass: undefined,\n  label: undefined,\n};\n\nexport default InputSelectBox;\n"]}
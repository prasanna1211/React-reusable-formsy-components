{"version":3,"sources":["../lib/InputTextBox.js"],"names":["InputTextBox","props","state","value","onChangeInput","bind","setValue","nextProps","isValuePristine","setState","nextState","prevProps","prevState","name","event","console","log","target","errorMessageStyle","inline","display","wrapperClass","wrapperStyle","labelClass","label","ref","fieldClass","required","fieldStyle","errorClass","getErrorMessage","Component","propTypes","PropTypes","string","isRequired","any","func","bool","object","getValue","defaultProps","undefined","validations","validationError"],"mappings":"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","file":"InputTextBox.js","sourcesContent":["/**\n * Input Text Box ( <input type = \"text>\")\n * Both formsy value and display value will change by changing the state value\n */\nimport React from 'react';\nimport _ from 'underscore';\nimport { pickHTMLProps } from 'pick-react-known-prop';\n\nclass InputTextBox extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: this.props.value,\n    };\n\n    this.onChangeInput = this.onChangeInput.bind(this);\n  }\n\n  // Setting the default value\n  componentDidMount() {\n    this.props.setValue(this.props.value);\n  }\n\n  // When new value is recieved forecefully update the state\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.props.value || nextProps.isValuePristine) { // eslint-disable-line\n      this.setState({\n        value: nextProps.value,\n      });\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return (this.state.value !== nextState.value);\n  }\n\n  // only when there is state change, change formsy and display value to be changed\n  componentDidUpdate(prevProps, prevState) { // eslint-disable-line\n    if (this.state.value !== prevState.value) {\n\n      this.props.setValue(this.state.value);\n      this.props.onChangeInput(this.props.name, this.state.value);\n    }\n  }\n\n  // On typing, change the state\n  onChangeInput(event) {\n    console.log(' setting state at bottom ', event.target.value, this.props.isValuePristine);\n    this.setState({\n      value: event.target.value,\n    });\n  }\n\n  render() {\n    // inline or block based on the props\n    //console.log(' value ', this.state.value);\n    const errorMessageStyle = this.props.inline ? { display: 'inline-block' } : null;\n    console.log(' rendered input text box ', this.state.value);\n    return (\n      <div\n        className={this.props.wrapperClass}\n        style={this.props.wrapperStyle}\n      >\n        <label\n          htmlFor={this.props.name}\n          className={this.props.labelClass}\n        >\n          {this.props.label}\n        </label>\n        <input\n          {...pickHTMLProps(this.props)}\n          type=\"text\"\n          ref={this.props.ref}\n          className={this.props.fieldClass}\n          name={this.props.name}\n          value={this.state.value}\n          onChange={this.onChangeInput}\n          required={this.props.required}\n          style={this.props.fieldStyle}\n        />\n        <div className={this.props.errorClass} style={errorMessageStyle}>\n          { this.props.getErrorMessage() }\n        </div>\n      </div>\n    );\n  }\n}\n\nInputTextBox.propTypes = {\n  name: React.PropTypes.string.isRequired,\n  value: React.PropTypes.any,\n  wrapperClass: React.PropTypes.string,\n  fieldClass: React.PropTypes.string,\n  errorClass: React.PropTypes.string,\n  onChangeInput: React.PropTypes.func,\n  required: React.PropTypes.bool,\n  setValue: React.PropTypes.func.isRequired,\n  wrapperStyle: React.PropTypes.object,\n  fieldStyle: React.PropTypes.object,\n  inline: React.PropTypes.bool,\n  getErrorMessage: React.PropTypes.func.isRequired,\n  ref: React.PropTypes.string,\n  getValue: React.PropTypes.func.isRequired,\n  label: React.PropTypes.string,\n  labelClass: React.PropTypes.string,\n};\n\nInputTextBox.defaultProps = {\n  value: undefined,\n  wrapperClass: undefined,\n  fieldClass: undefined,\n  onChangeInput: () => {},\n  validations: undefined,\n  required: undefined,\n  wrapperStyle: undefined,\n  fieldStyle: undefined,\n  inline: undefined,\n  validationError: undefined,\n  ref: '',\n  errorClass: undefined,\n  label: undefined,\n  labelClass: undefined,\n};\n\nexport default InputTextBox;\n\n"]}
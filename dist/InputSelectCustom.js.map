{"version":3,"sources":["../lib/InputSelectCustom.js"],"names":["InputSelectCustom","props","state","value","onChangeInput","bind","setValue","nextProps","setState","prevProps","prevState","selectedGroup","activeValue","isArray","map","option","getValue","Component","propTypes","PropTypes","any","func","isRequired","defaultProps","undefined"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IAEMA,iB;;;AACJ,6BAAYC,KAAZ,EAAmB;AAAA;;AAAA,sIACXA,KADW;;AAGjB,UAAKC,KAAL,GAAa;AACXC,aAAO;AADI,KAAb;;AAIA,UAAKC,aAAL,GAAqB,MAAKA,aAAL,CAAmBC,IAAnB,OAArB;AAPiB;AAQlB;;AAED;;;;;wCACoB;AAClB,WAAKJ,KAAL,CAAWK,QAAX,CAAoB,KAAKL,KAAL,CAAWE,KAA/B;AACD;;AAED;;;;8CAC0BI,S,EAAW;AACnC,UAAIA,UAAUJ,KAAV,KAAoB,KAAKF,KAAL,CAAWE,KAAnC,EAA0C;AACxC,aAAKK,QAAL,CAAc;AACZL,iBAAOI,UAAUJ;AADL,SAAd;AAGD;AACF;;AAED;;;;uCACmBM,S,EAAWC,S,EAAW;AAAE;AACzC,UAAI,KAAKR,KAAL,CAAWC,KAAX,KAAqBO,UAAUP,KAAnC,EAA0C;AACxC,aAAKF,KAAL,CAAWK,QAAX,CAAoB,KAAKJ,KAAL,CAAWC,KAA/B;AACA,aAAKF,KAAL,CAAWG,aAAX,CAAyB,KAAKF,KAAL,CAAWC,KAApC;AACD;AACF;;AAED;;;;kCACcQ,a,EAAe;AAC3B,UAAIC,oBAAJ;AACA,UAAI,qBAAEC,OAAF,CAAUF,aAAV,CAAJ,EAA8B;AAC5BC,sBAAc,qBAAEE,GAAF,CAAMH,aAAN,EAAqB,UAACI,MAAD,EAAY;AAC7C,iBAAOA,OAAOZ,KAAd;AACD,SAFa,CAAd;AAGD,OAJD,MAIO;AACLS,sBAAcD,cAAcR,KAA5B;AACD;AACD,WAAKK,QAAL,CAAc;AACZL,eAAOS;AADK,OAAd;AAGD;;;6BAEQ;AACP,aACE;AAAA;AAAA;AACE,0EACM,KAAKX,KADX;AAEE,oBAAU,KAAKG,aAFjB;AAGE,iBAAO,KAAKH,KAAL,CAAWe,QAAX;AAHT;AADF,OADF;AASD;;;;EA1D6B,gBAAMC,S;;AA6DtCjB,kBAAkBkB,SAAlB,GAA8B;AAC5Bf,SAAO,gBAAMgB,SAAN,CAAgBC,GADK;AAE5BhB,iBAAe,gBAAMe,SAAN,CAAgBE,IAFH;AAG5Bf,YAAU,gBAAMa,SAAN,CAAgBE,IAAhB,CAAqBC,UAHH;AAI5BN,YAAU,gBAAMG,SAAN,CAAgBE,IAAhB,CAAqBC;AAJH,CAA9B;;AAOAtB,kBAAkBuB,YAAlB,GAAiC;AAC/BpB,SAAOqB,SADwB;AAE/BpB,iBAAe,yBAAM,CAAE;AAFQ,CAAjC;;kBAKeJ,iB","file":"InputSelectCustom.js","sourcesContent":["import React from 'react';\nimport Select from 'react-select';\nimport _ from 'underscore';\nimport 'react-select/dist/react-select.css';\n\nclass InputSelectCustom extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: '',\n    };\n\n    this.onChangeInput = this.onChangeInput.bind(this);\n  }\n\n  // Setting the default value\n  componentDidMount() {\n    this.props.setValue(this.props.value);\n  }\n\n  // When new value is recieved forecefully update the state\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.value !== this.props.value) {\n      this.setState({\n        value: nextProps.value,\n      });\n    }\n  }\n\n  // only when there is state change, change formsy and display value to be changed\n  componentDidUpdate(prevProps, prevState) { // eslint-disable-line\n    if (this.state.value !== prevState.value) {\n      this.props.setValue(this.state.value);\n      this.props.onChangeInput(this.state.value);\n    }\n  }\n\n  // On typing, change the state\n  onChangeInput(selectedGroup) {\n    let activeValue;\n    if (_.isArray(selectedGroup)) {\n      activeValue = _.map(selectedGroup, (option) => {\n        return option.value;\n      });\n    } else {\n      activeValue = selectedGroup.value;\n    }\n    this.setState({\n      value: activeValue,\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <Select\n          {...this.props}\n          onChange={this.onChangeInput}\n          value={this.props.getValue()}\n        />\n      </div>\n    );\n  }\n}\n\nInputSelectCustom.propTypes = {\n  value: React.PropTypes.any,\n  onChangeInput: React.PropTypes.func,\n  setValue: React.PropTypes.func.isRequired,\n  getValue: React.PropTypes.func.isRequired,\n};\n\nInputSelectCustom.defaultProps = {\n  value: undefined,\n  onChangeInput: () => {},\n};\n\nexport default InputSelectCustom;\n"]}